import requests
import json
import sys
import time
import os
from urllib import request
from lagoucourse.download.course import *
from lagoucourse.decrypt.aliplayer_decrypt import *
from lagoucourse.constant.setting import *

course = Course(brief='20讲玩转微服务可观测性系统', duration='约300分钟', hasBuy=True, href='https://kaiwu.lagou.com/course/courseInfo.htm?courseId=410', id=410, image='https://s0.lgstatic.com/i/image/M00/41/F7/CgqCHl82gXWAOu-FAAC8TtMZDgY543.png', originalPrice=None, price='¥68', promotionType=0, pruchasedCount='1.4w人购买', remainSeconds=0, secKillTag=None, tag='限时优惠', teacherName='刘晗', teacherTitle='拉勾技术专家，SkyWalking PMC', title='分布式链路追踪实战', inspect={
    'videoChannelCode': 1,
    'hasBuy': True,
    'courseName': '分布式链路追踪实战',
    'coverImage': 'https://s0.lgstatic.com/i/image/M00/41/F7/CgqCHl82gXWAOu-FAAC8TtMZDgY543.png',
    'courseSectionList': [
                      {'id': 977,
                       'courseId': 410,
                       'sectionName': '开篇词',
                       'description': '',
                       'courseLessons': [
                           {'id': 4321,
                            'courseId': 410,
                            'sectionId': 977,
                            'theme': '开篇词 | 如何更好地观测线上系统？',
                            'duration': None,
                            'canPlay': True,
                            'appId': '1252043158',
                            'videoMediaDTO': {
                                'id': 7319,
                                'channel': 1,
                                'mediaType': 1,
                                'coverImageUrl': 'https://vod.lagou.com/image/cover/4EF14A1977024C8697E5D9E68C2DD2B3-6-2.png',
                                'duration': '11:00',
                                'durationNum': 660,
                                'fileId': '640c8414d3d14a93b4efb5d52631965d',
                                'fileUrl': 'https://vod.lagou.com/640c8414d3d14a93b4efb5d52631965d/34faa0390749b324451ebb3837f1a5b4-sd-encrypt-stream.m3u8',
                                'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkVDFhZldFSnJQNnJKVDMwUU9BamNkUHRpWGtUSDFaVEFBQUFBQUFBQUFBQTVsUkVWNG9XVmNmOGhjU2FqdE1LVE52eHg5eldsYVNDVStmY1dKNllHaXNEWDF1OWFHM1dt',
                                'fileSize': 119.96,
                                'free': False
                            },
                               'audioMediaDTO': {'id': 7321, 'channel': 1, 'mediaType': 0, 'coverImageUrl': None, 'duration': '11:00', 'durationNum': 660, 'fileId': 'e98976f4c9d547dabf8c095bced729e8', 'fileUrl': 'https://vod.lagou.com/e98976f4c9d547dabf8c095bced729e8/49bb12c2daa8937b85a44e644ba8cfa7-hq-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkRmZLbjZCNUp5RlNuam1qdUljYXZQcVVURGo4ejJkNzlBQUFBQUFBQUFBRGYrWEZ6Q3N5dXdHZUZ1eDNjeEhaZE5nckhsT0hkcDVyV2d1V3pvNXlocVRRdlA2VHhHaFN4', 'fileSize': 20.22, 'free': False}, 'textContent': None, 'status': 'RELEASE', 'hasVideo': True, 'hasLearned': True, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4321%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4321'}], 'visible': True},
                      {'id': 978, 'courseId': 410, 'sectionName': '第一部分：可观测性原理', 'description': '', 'courseLessons': [{'id': 4322, 'courseId': 410, 'sectionId': 978, 'theme': '01 | 数据观测：数据追踪的基石从哪里来？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': {'id': 7323, 'channel': 1, 'mediaType': 1, 'coverImageUrl': 'https://vod.lagou.com/image/cover/23DFBE0419A24590A9E8CBC18960AD71-6-2.png', 'duration': '15:27', 'durationNum': 927, 'fileId': '3678aa11c41d423abb1887b813de8a22', 'fileUrl': 'https://vod.lagou.com/3678aa11c41d423abb1887b813de8a22/4b2cd86480681a9a2fb1756c0c23f085-sd-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkY01rWFNrY0Q4aXFvL0JVZHlUQXRxUE44SHdqV2hiY1NBQUFBQUFBQUFBRFFaZFlBVVVQSkZPRWt2M1BZSkFEZzhaT2ZqRDVwZ2M1TFNIRStMdHQ0WWtxVGNUOFJvVlZx', 'fileSize': 142.52, 'free': False}, 'audioMediaDTO': {'id': 7325, 'channel': 1, 'mediaType': 0, 'coverImageUrl': None, 'duration': '15:27', 'durationNum': 927, 'fileId': '62d4ed3e897b432f903471dc59b7ebf2', 'fileUrl': 'https://vod.lagou.com/62d4ed3e897b432f903471dc59b7ebf2/7bf817010884812ebdd81c368d9a16f4-hq-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkdkFnb2xaZ2FGQysyTjB6VVVtVytLQm50RmhYVEdvVHRBQUFBQUFBQUFBQXVhd1pmRlQ0M0h5MTBUL201V0FvbVY2SURFK3ZVNGVoT1pXTGhSeHo0UU8xb1NOd0h0Z3BT', 'fileSize': 28.41, 'free': False}, 'textContent': None, 'status': 'RELEASE', 'hasVideo': True, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4322%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4322'}, {'id': 4323, 'courseId': 410, 'sectionId': 978, 'theme': '02 | 系统日志：何以成为保障稳定性的关键？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': {'id': 7403, 'channel': 1, 'mediaType': 1, 'coverImageUrl': 'https://vod.lagou.com/image/cover/58B5BAB0DFB34AB097221340E5F73E8D-6-2.png', 'duration': '12:43', 'durationNum': 763, 'fileId': '04ceee23f02d449eb3c6faabee7d61ee', 'fileUrl': 'https://vod.lagou.com/04ceee23f02d449eb3c6faabee7d61ee/9b4eeb17be7abcf278bae5a58f54f6a2-sd-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkd3YzODF6Z0U4M3JOVEpDSkhNT3BFTzkyVndFbkNBVzJBQUFBQUFBQUFBQUhVbWZ4SnhxelNrSlJHdFpPbFZETXpkSk5vZlkzOEpQTGhJOEJFemcrbGI1Ui9qVm1SRHZq', 'fileSize': 113.05, 'free': False}, 'audioMediaDTO': {'id': 7412, 'channel': 1, 'mediaType': 0, 'coverImageUrl': None, 'duration': '12:43', 'durationNum': 763, 'fileId': '50bc61f03275489ea4095e1ba2d7a9fa', 'fileUrl': 'https://vod.lagou.com/50bc61f03275489ea4095e1ba2d7a9fa/7c22282375dc0cef531a604f70db31a1-hq-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkZWpvdWFvK1VESDhFNjVNM05OVjIxUjFaUGZQK0YvbEdBQUFBQUFBQUFBQ0QwYTRqYzJhRlRiK2l1UHAwUzhTa0lGODZ5NlhkS1NqYlB0c2ZXYzRrQTJzNWUzY1BDaVQx', 'fileSize': 23.44, 'free': False}, 'textContent': None, 'status': 'RELEASE', 'hasVideo': True, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4323%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4323'}, {'id': 4324, 'courseId': 410, 'sectionId': 978, 'theme': '03 | 日志编写：怎样才能编写“可观测”的系统日志？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': {'id': 7455, 'channel': 1, 'mediaType': 1, 'coverImageUrl': 'https://vod.lagou.com/image/cover/23FF2AD8BE5C494A90CCF47F93280FE2-6-2.png', 'duration': '18:45', 'durationNum': 1125, 'fileId': '85565aceefe54694a88636fee12aa65f', 'fileUrl': 'https://vod.lagou.com/85565aceefe54694a88636fee12aa65f/f08064b8bed9ead63901de24227a958c-sd-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkdnZrV1REUFFTWlJqMzk0aFVEaDdTRnhlTDlweEtJcEFBQUFBQUFBQUFBQ3FpUUJUNWR1N0xnRXdRSERjYjBJZXBzb1dQKy9SSjBCUktaZzFBZFI4SWVuQVdoUGNaekxF', 'fileSize': 165.91, 'free': False}, 'audioMediaDTO': {'id': 7459, 'channel': 1, 'mediaType': 0, 'coverImageUrl': None, 'duration': '18:45', 'durationNum': 1125, 'fileId': 'c6850d03fdca45e697a2a45c3d54684f', 'fileUrl': 'https://vod.lagou.com/c6850d03fdca45e697a2a45c3d54684f/d9361624208d31760aa4b32fb5da3e7d-hq-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkTVZPa0RPR0NvNnhya3ZnS1J3ckFZOU4wQlB5MXJjcmpBQUFBQUFBQUFBRERnMVpQc2hHeGZvdHI0NmFLeWFLeVhBZGUwRytTekJZMy9KVmkvdEJkQVp5QVJ5Njl2cklH', 'fileSize': 17.36, 'free': False}, 'textContent': None, 'status': 'RELEASE', 'hasVideo': True, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4324%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4324'}, {'id': 4325, 'courseId': 410, 'sectionId': 978, 'theme': '04 | 统计指标：“五个九”对系统稳定的真正意义', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': {'id': 7530, 'channel': 1, 'mediaType': 1, 'coverImageUrl': 'https://vod.lagou.com/image/cover/EF7042F2CF514347851F76CB1189B751-6-2.png', 'duration': '12:02', 'durationNum': 722, 'fileId': '8ebdb022fe2c4236b3be877a7c95ba92', 'fileUrl': 'https://vod.lagou.com/8ebdb022fe2c4236b3be877a7c95ba92/134879a64211ec6d4954b2b6f77f9a5a-sd-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkakdoVCt2bUozNThPZ3VpUDQ2L09oQ210am9GRkM5a3FBQUFBQUFBQUFBRFY3T3cweXZtZmQwWDJrMWlVTDByaEczNURNbWdMYitGNjUvbWhBNWhQazdwMDJHYXJaT3Vo', 'fileSize': 106.19, 'free': False}, 'audioMediaDTO': {'id': 7533, 'channel': 1, 'mediaType': 0, 'coverImageUrl': None, 'duration': '12:02', 'durationNum': 722, 'fileId': 'ecbadbab3d4d48e2b5c4ba1539a66706', 'fileUrl': 'https://vod.lagou.com/ecbadbab3d4d48e2b5c4ba1539a66706/f7a398cd6882233f695640b58ce1db52-hq-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkbUdSREY5S3VvUFFqQWxJeE9PUTNaVEZsMFA2QmdQdHVBQUFBQUFBQUFBQjkvSEJxbGVtY2lJblo2QVZmZEUwT0Y5ODZRQmFYbkdQZHp5UEYxcEQ3bEsrd1I3YnJiRVAv', 'fileSize': 11.13, 'free': False}, 'textContent': None, 'status': 'RELEASE', 'hasVideo': True, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4325%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4325'}, {'id': 4326, 'courseId': 410, 'sectionId': 978, 'theme': '05 | 监控指标：如何通过分析数据快速定位系统隐患？（上）', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': {'id': 7587, 'channel': 1, 'mediaType': 1, 'coverImageUrl': 'https://vod.lagou.com/image/cover/B5FC4C39A2414E6188915D3DFD2B6565-6-2.png', 'duration': '17:05', 'durationNum': 1025, 'fileId': '37e59bc963db4df8a99c87211db84556', 'fileUrl': 'https://vod.lagou.com/37e59bc963db4df8a99c87211db84556/a4b9295a96223b94fa9ed78068228beb-sd-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkejZ5ZEZ5Zi9oU3pQMDVBV3hTNUcyenF5cHdiZHJUdE5BQUFBQUFBQUFBQnFSVStqMGRtYjVUS2MrOThNT1JKdGlZMUVEM1BmM0tETWwvVkJLQ0VhVGhpK1JVYmFibzZE', 'fileSize': 82.1, 'free': False}, 'audioMediaDTO': {'id': 7600, 'channel': 1, 'mediaType': 0, 'coverImageUrl': None, 'duration': '17:05', 'durationNum': 1025, 'fileId': 'f8dc796a1838421bb3179e8479c5ba6e', 'fileUrl': 'https://vod.lagou.com/f8dc796a1838421bb3179e8479c5ba6e/0af650ac46b7720ebcc732169a962ff2-hq-encrypt-stream.m3u8', 'fileEdk': 'MTIyMjgzZDctNTY0Yy00MTM4LTg2MGMtYmJlN2U1YzFlNTFkZVUydFpVeEE3NUNYb3gzalBoY3ZCODk3T05hS3hRVHhBQUFBQUFBQUFBQVJlSnRKbEZ5Ui83ajBnVzdESFNVV0htUGtVV1ZLUDNpRVAzOER0RTJQdWVYU01QVFMxZ3hV', 'fileSize': 31.46, 'free': False}, 'textContent': None, 'status': 'RELEASE', 'hasVideo': True, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4326%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4326'}, {'id': 4327, 'courseId': 410, 'sectionId': 978, 'theme': '06 | 监控指标：如何通过分析数据快速定位系统隐患？（下）', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4327%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4327'}, {'id': 4328, 'courseId': 410, 'sectionId': 978, 'theme': '07 | 指标编写：如何编写出更加了解系统的指标？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4328%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4328'}, {'id': 4329, 'courseId': 410, 'sectionId': 978, 'theme': '08 | 链路监控：为什么对于系统而言必不可少？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4329%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4329'}, {'id': 4330, 'courseId': 410, 'sectionId': 978, 'theme': '09 | 性能剖析：如何补足分布式追踪短板？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4330%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4330'}, {'id': 4331, 'courseId': 410, 'sectionId': 978, 'theme': '10 | 链路分析：除了观测链路，还能做什么？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4331%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4331'}, {'id': 4332, 'courseId': 410, 'sectionId': 978, 'theme': '11 | 黑/白盒监控：系统功能与结构稳定的根基', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4332%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4332'}], 'visible': True}, {'id': 979, 'courseId': 410, 'sectionName': '第二部分：告警体系与可观测性', 'description': '', 'courseLessons': [{'id': 4333, 'courseId': 410, 'sectionId': 979, 'theme': '12 | 系统告警：快速感知业务隐藏问题', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4333%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4333'}, {'id': 4334, 'courseId': 410, 'sectionId': 979, 'theme': '13 | 告警质量：如何更好地创建告警规则和质量？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4334%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4334'}, {'id': 4335, 'courseId': 410, 'sectionId': 979, 'theme': '14 | 告警处理：怎样才能更好地解决问题？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4335%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4335'}], 'visible': True}, {'id': 980, 'courseId': 410, 'sectionName': '第三部分：可观测性的实践应用', 'description': '', 'courseLessons': [{'id': 4336, 'courseId': 410, 'sectionId': 980, 'theme': '15 | 日志收集：ELK 如何更高效地收集日志？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4336%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4336'}, {'id': 4337, 'courseId': 410, 'sectionId': 980, 'theme': '16 | 指标体系：Prometheus 如何更完美地显示指标体系？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4337%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4337'}, {'id': 4338, 'courseId': 410, 'sectionId': 980, 'theme': '17 | 链路追踪：Zipkin 如何进行分布式追踪？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4338%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4338'}, {'id': 4339, 'courseId': 410, 'sectionId': 980, 'theme': '18 | 观测分析：SkyWalking 如何把观测和分析结合起来？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4339%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4339'}, {'id': 4340, 'courseId': 410, 'sectionId': 980, 'theme': '19 | 云端观测：ARMS 如何进行云观测？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4340%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4340'}, {'id': 4341, 'courseId': 410, 'sectionId': 980, 'theme': '20 | 运维集成：内部的 OSS 系统如何与观测相结合？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4341%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4341'}], 'visible': True}, {'id': 981, 'courseId': 410, 'sectionName': '结束语', 'description': '', 'courseLessons': [{'id': 4342, 'courseId': 410, 'sectionId': 981, 'theme': '结束语 | 未来的监控是什么样子？', 'duration': None, 'canPlay': True, 'appId': '1252043158', 'videoMediaDTO': None, 'audioMediaDTO': None, 'textContent': None, 'status': 'UNRELEASE', 'hasVideo': False, 'hasLearned': False, 'textUrl': 'https://www.lagou.com/center/login?forward=https%3A%2F%2Fkaiwu.lagou.com%2Fcourse%2FcourseInfo.htm%3FcourseId%3D410%26id%3D4342%26router%3DDETAIL%23%2Fdetail%2Fh5%3Fid%3D4342'}], 'visible': True}], 'shareInfo': {'title': '速看！20讲轻松搞懂微服务系统可观测性', 'desc': '构建可观测性系统，走在问题发生之前', 'shareUrl': 'https://kaiwu.lagou.com/course/courseInfo.htm?courseId=410&sid=20-h5Url-0', 'imageUrl': 'https://s0.lgstatic.com/i/image/M00/3C/48/CgqCHl8nkWCAXlZWAAAtatjK_WQ040.png'}, 'canHideFast': False})


page = requests.Session()
page.headers = HEADER
ret = dict()
ret[course.title] = list()
page.headers['referer'] = course.href
for lesson in course.inspect['courseSectionList']:
    # https://gate.lagou.com/v1/neirong/kaiwu/getLessonPlayHistory?lessonId=4321&isVideo=true
    for in_lesson in lesson['courseLessons']:
        resp = page.get(VOD_META_URL.format(in_lesson['id'])).text
        resp_json = json.loads(resp)
        aliPlayAuth = resp_json['content']['mediaPlayInfoVo']['aliPlayAuth']
